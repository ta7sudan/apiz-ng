{"version":3,"file":"apizclient.js","sources":["../../node_modules/apiz-browser-client/dist/apizclient.esm.js","../meta.js","../apizclient.js"],"sourcesContent":["function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\n/* global false */\nconst isFn = fn => typeof fn === 'function';\n\nconst isJSON = cType => /application\\/json/i.test(cType);\n\nconst isForm = cType => /application\\/x-www-form-urlencoded/i.test(cType);\n\nconst isStr = v => v && typeof v === 'string';\n\nconst isObj = o => Object.prototype.toString.call(o) === '[object Object]';\n\nconst xhrPool = [],\n      ArrayBufferView = Object.getPrototypeOf(Object.getPrototypeOf(new Uint8Array())).constructor,\n      MIME = {\n  json: 'application/json',\n  form: 'application/x-www-form-urlencoded',\n  html: 'text/html',\n  xml: 'application/xml',\n  text: 'text/plain'\n},\n      events = ['onloadstart', 'onprogress', 'onabort', 'onerror', 'onload', 'ontimeout', 'onloadend', 'onreadystatechange'];\nlet cacheRand = Date.now() + 5,\n    globalSerialize = null,\n    globalDeserialize = null;\n\nfunction createXhr() {\n  const xhr = new XMLHttpRequest();\n  Object.defineProperty(xhr, '_active', {\n    value: false,\n    writable: true,\n    enumerable: false\n  });\n\n  return xhr;\n}\n\nfunction resetXhr(xhr) {\n  // responseType, withCredentials以及header相关的会在open后重置\n  xhr._active = false; // 可能是同步请求那就不能设置timeout\n\n  try {\n    xhr.timeout = 0;\n    xhr.requestURL = '';\n    /* eslint-disable-next-line */\n  } catch (e) {}\n\n  events.forEach(v => xhr[v] = null);\n  xhr.upload && events.forEach(v => xhr.upload[v] = null);\n}\n\nfunction xhrFactory() {\n  for (let i = 0, len = xhrPool.length; i < len; ++i) {\n    if (!xhrPool[i]._active) {\n      return xhrPool[i];\n    }\n  }\n\n  return createXhr();\n}\n\nfunction querystring(obj) {\n  if (isObj(obj)) {\n    return Object.keys(obj).map(k => Array.isArray(obj[k]) ? obj[k].map(v => `${encodeURIComponent(k)}=${encodeURIComponent(v)}`).join('&') : `${encodeURIComponent(k)}=${encodeURIComponent(obj[k])}`).join('&');\n  } else {\n    return JSON.stringify(obj);\n  }\n}\n\nfunction defaultSerialize({\n  data,\n  method,\n  contentType = MIME.json,\n  url,\n  cache\n}) {\n  if (!cache) {\n    url += ~url.indexOf('?') ? `&_=${++cacheRand}` : `?_=${++cacheRand}`;\n  }\n\n  if (method === 'GET' || method === 'HEAD') {\n    return {\n      url,\n      data\n    };\n  }\n\n  if (data instanceof Document || // URLSearchParams和ReadableStream暂时不考虑支持了, 浏览器版本要求比较高\n  // data instanceof URLSearchParams ||\n  // data instanceof ReadableStream ||\n  data instanceof Blob || data instanceof FormData || data instanceof ArrayBuffer || data instanceof ArrayBufferView || typeof data === 'string') {\n    return {\n      url,\n      data\n    };\n  }\n\n  if (isJSON(contentType)) {\n    data = JSON.stringify(data);\n  } else if (isForm(contentType)) {\n    data = querystring(data);\n  } else {\n    throw new TypeError('Unknown data type, you can provide a custom serialize function in options to override the default.');\n  }\n\n  return {\n    url,\n    data\n  };\n}\n\nfunction defaultDeserialize({\n  data,\n  contentType,\n  acceptType\n}) {\n  let rst = null;\n\n  if (isStr(data) && (isJSON(contentType) || isJSON(acceptType))) {\n    try {\n      rst = JSON.parse(data);\n    } catch (e) {\n      console.error('Invalid json string');\n      rst = data;\n    }\n  } else {\n    rst = data;\n  }\n\n  return rst;\n}\n\nfunction setHeaders(xhr, headers) {\n  if (isObj(headers)) {\n    Object.keys(headers).forEach(k => xhr.setRequestHeader(k, headers[k]));\n  }\n}\n\nfunction setEvents(target, evts) {\n  if (isObj(evts) && target) {\n    // 不用addEventListener是它不方便reset\n    Object.keys(evts).filter(k => events.indexOf(k) !== -1).forEach(k => target[k] = evts[k]);\n  }\n}\n\nfunction getResponse(xhr, key) {\n  // 在有responseType的情况下, 访问responseXML, responseText等都有可能抛出异常\n  try {\n    return xhr[key];\n  } catch (e) {\n    return null;\n  }\n}\n\nfunction ajax(options) {\n  let {\n    url = location.href,\n    method = 'GET',\n    contentType: reqCtype,\n    beforeSend,\n    complete,\n    data: reqRawData,\n    dataType: acceptType = 'json',\n    error,\n    headers,\n    mimeType,\n    responseType = '',\n    username,\n    password,\n    success,\n    timeout = 0,\n    ontimeout,\n    events,\n    uploadEvents,\n    withCredentials = false,\n    cache = true,\n    serialize,\n    deserialize\n  } = options;\n  method = method.toUpperCase().trim(); // IE是什么...\n  // xhr不支持CONNECT, TRACE, TRACK方法\n\n  if (!(['GET', 'POST', 'PUT', 'PATCH', 'DELETE', 'HEAD', 'OPTIONS'].indexOf(method) !== -1)) {\n    throw new Error(`Invalid HTTP method: ${method}`);\n  } // 允许所有callback都没有\n  // 准备数据\n\n\n  if (isStr(reqCtype)) {\n    MIME[reqCtype] && (reqCtype = MIME[reqCtype]);\n  } else if (reqCtype) {\n    throw new TypeError('contentType could be \"json\", \"form\", \"html\", \"xml\", \"text\" or other custom string.');\n  }\n\n  const slz = isFn(serialize) ? serialize : isFn(globalSerialize) ? globalSerialize : defaultSerialize,\n        dslz = isFn(deserialize) ? deserialize : isFn(globalDeserialize) ? globalDeserialize : defaultDeserialize,\n        protocol = /^([\\w-]+:)\\/\\//.exec(url)[1],\n        xhr = xhrFactory(),\n        hasCompleteCb = isFn(complete),\n        hasErrorCb = isFn(error),\n        hasSuccessCb = isFn(success);\n  let reqData,\n      errCalled = false,\n      completeCalled = false; // 这里不用捕获异常去重置xhr是因为xhr还没激活\n\n  ({\n    url,\n    data: reqData\n  } = slz({\n    data: reqRawData,\n    method,\n    contentType: reqCtype,\n    url,\n    cache\n  })); // 初始化xhr\n\n  xhr._active = true;\n  xhr.open(method, url, true, username, password);\n  !xhr.requestURL && (xhr.requestURL = url); // 设置必要的头部\n\n  if (reqCtype) {\n    xhr.setRequestHeader('Content-Type', reqCtype);\n  } else if (isStr(reqData)) {\n    // 不在默认参数设json是为了让FormData之类的能够由浏览器自己设置\n    // 这里只对字符串的body设置默认为json\n    xhr.setRequestHeader('Content-Type', MIME.json);\n  }\n\n  if (isStr(acceptType)) {\n    MIME[acceptType] && (acceptType = MIME[acceptType]);\n    xhr.setRequestHeader('Accept', acceptType);\n  }\n\n  setHeaders(xhr, headers);\n  isStr(mimeType) && xhr.overrideMimeType(mimeType); // 主要是给progress等事件用, 但存在破坏封装的风险\n\n  setEvents(xhr, events);\n  setEvents(xhr.upload, uploadEvents);\n  withCredentials && (xhr.withCredentials = withCredentials);\n  responseType && (xhr.responseType = responseType);\n  timeout && (xhr.timeout = timeout);\n\n  if (isFn(ontimeout)) {\n    xhr.ontimeout = function (e) {\n      ontimeout(e);\n      hasCompleteCb && complete(this, 'timeout');\n    };\n  } else if (timeout && !isFn(xhr.ontimeout)) {\n    xhr.ontimeout = function () {\n      if (hasCompleteCb) {\n        complete(this, 'timeout');\n      } else {\n        // 如果没监听ontimeout但是设置了timeout, window.onerror不会捕获这个错误, 所以手动抛个\n        throw new Error(`Request ${this.requestURL} timeout.`);\n      }\n    };\n  } // loadend无论同步还是异步请求, 无论前面的事件是否抛异常, 它都会执行\n\n\n  if (isFn(xhr.onloadend)) {\n    const originalLoadend = xhr.onloadend;\n\n    xhr.onloadend = function (e) {\n      resetXhr(this);\n      originalLoadend.call(this, e);\n    };\n  } else {\n    xhr.onloadend = function () {\n      resetXhr(this);\n    };\n  } // 覆盖掉用户自定义onreadystatechange\n\n\n  xhr.onreadystatechange = function (e) {\n    if (this.readyState === 4) {\n      if (this.status >= 200 && this.status < 300 || this.status == 304 || this.status == 0 && protocol == 'file:') {\n        const resCtype = this.getResponseHeader('Content-Type'); // 这里也不用捕获异常, 因为xhr.onloadend会在之后帮我们回收xhr\n\n        const resData = dslz({\n          data: getResponse(xhr, 'responseXML') || getResponse(xhr, 'response') || getResponse(xhr, 'responseText'),\n          contentType: resCtype,\n          acceptType\n        }); // 异常直接抛\n\n        hasSuccessCb && success(resData, this, e);\n        hasCompleteCb && complete(this, 'success');\n      } else if (this.status !== 0) {\n        // 这类错误xhr.onerror和window.onerror都不捕获所以手动抛一个\n        if (!hasErrorCb && !hasCompleteCb) {\n          throw new Error(`Remote server error. Request URL: ${this.requestURL}, Status code: ${this.status}, message: ${this.statusText}, response: ${this.responseText}.`);\n        } // 理论上来讲好像没必要再注册xhr.onerror了, 因为如果有error那status必然为0\n        // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/status\n        // 但是不加个心里不踏实...总感觉会不会有浏览器没按规范实现\n        // 不过知名的库页都没监听onerror, 那说明应该是都按规范实现了的\n        // 但是我要加!!!\n\n\n        if (hasErrorCb) {\n          errCalled = true;\n          error(new Error(`Remote server error. Request URL: ${this.requestURL}, Status code: ${this.status}, message: ${this.statusText}, response: ${this.responseText}.`), this, e);\n        }\n\n        if (hasCompleteCb) {\n          completeCalled = true;\n          complete(this, 'error');\n        }\n      }\n    }\n  }; // 覆盖\n\n\n  xhr.onerror = function (e) {\n    // 跨域错误会在这里捕获, 但是window.onerror不捕获, 所以也手动抛一个\n    if (!hasErrorCb && !hasCompleteCb) {\n      throw new Error(`An error occurred, maybe crossorigin error. Request URL: ${this.requestURL}, Status code: ${this.status}.`);\n    }\n\n    if (!errCalled && hasErrorCb) {\n      error(new Error(`Network error or browser restricted. Request URL: ${this.requestURL}, Status code: ${this.status}`), this, e);\n    }\n\n    if (!completeCalled && hasCompleteCb) {\n      complete(this, 'error');\n    }\n  }; // 哎...都异步吧\n\n\n  if (isFn(beforeSend)) {\n    setTimeout(() => {\n      let rst;\n\n      try {\n        rst = beforeSend(xhr, options);\n      } catch (e) {\n        // 恶心之处就在于每个用户定义的callback都可能触发异常, 然而我还要回收xhr\n        resetXhr(xhr);\n        throw e;\n      }\n\n      if (rst !== false) {\n        xhr.send(reqData || null);\n      } else {\n        resetXhr(xhr);\n      }\n    });\n  } else {\n    xhr.send(reqData || null);\n  } // 不暴露xhr\n\n\n  return {\n    abort() {\n      xhr.abort();\n    }\n\n  };\n}\n\nfunction request({\n  url,\n  method,\n  type,\n  data,\n  options: options$$1 = {},\n  beforeSend,\n  afterResponse\n}) {\n  if (data) {\n    options$$1.data = data;\n    options$$1.contentType = type;\n  }\n\n  options$$1.url = url;\n  options$$1.method = method;\n  return new Promise((rs, rj) => {\n    ajax(_extends({\n      beforeSend,\n\n      success(data, xhr) {\n        try {\n          typeof afterResponse === 'function' && afterResponse(data, xhr);\n        } catch (e) {\n          rj(e);\n          return;\n        }\n\n        rs(data);\n      },\n\n      error: rj\n    }, options$$1));\n  });\n}\n/**\n * { beforeSend, afterResponse }\n */\n\n\nfunction index (opts = {}) {\n  return _extends({}, ['get', 'head'].reduce((prev, cur) => (prev[cur] = (url, options$$1) => request(_extends({\n    url,\n    method: cur.toUpperCase(),\n    options: options$$1\n  }, opts)), prev), {}), ['post', 'put', 'patch', 'delete', 'options'].reduce((prev, cur) => (prev[cur] = (url, bodyOrOptions, type, isOptions) => request(_extends({\n    url,\n    type,\n    method: cur.toUpperCase(),\n    data: isOptions ? undefined : bodyOrOptions,\n    options: isOptions ? bodyOrOptions : undefined\n  }, opts)), prev), {}));\n}\n\nexport default index;\n//# sourceMappingURL=apizclient.esm.js.map\n","module.exports = {\n\t_baseURL: 'http://127.0.0.1:8080',\n\tgetBook: {\n\t\tpath: '/book/:bookName',\n\t\tpathParams: true\n\t},\n\tqueryBook: {\n\t\tpath: '/book/:bookName',\n\t\tpathParams: true,\n\t\tmethod: 'head'\n\t},\n\taddBook: {\n\t\tpath: '/book',\n\t\tmethod: 'post',\n\t\ttype: 'json'\n\t},\n\tupdateBook: {\n\t\tpath: '/book/:bookName',\n\t\tmethod: 'put',\n\t\tpathParams: true,\n\t\ttype: 'json'\n\t},\n\tmodifyBook: {\n\t\tpath: '/book/:bookName',\n\t\tmethod: 'patch',\n\t\tpathParams: true,\n\t\ttype: 'json'\n\t},\n\tremoveBook: {\n\t\tpath: '/book/:bookName',\n\t\tmethod: 'delete',\n\t\tpathParams: true,\n\t\ttype: 'json'\n\t},\n\toptionsBook: {\n\t\tpath: '/book/:bookName',\n\t\tmethod: 'options',\n\t\tpathParams: true,\n\t\ttype: 'json'\n\t}\n};","import apizclient from 'apiz-browser-client';\nimport meta from './meta';\n\n// 防止被tree shaking\napizclient();\nwindow.meta = meta;\n\nexport default apizclient;"],"names":["_baseURL","getBook","path","pathParams","queryBook","method","addBook","type","updateBook","modifyBook","removeBook","optionsBook","apizclient","window","meta"],"mappings":"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"}