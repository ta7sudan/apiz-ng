{"version":3,"file":"apiz.min.js","sources":["../../src/core.js","apiz.js","../../src/querystring.js"],"sourcesContent":["/* global DEBUG */\nconst toString = Map.call.bind(Object.prototype.toString);\nconst isObj = o => toString(o) === '[object Object]';\nconst isFn = f => typeof f === 'function';\nconst isStr = s => s && typeof s === 'string';\nconst isEnumerable = Map.call.bind(Object.prototype.propertyIsEnumerable);\n\nlet defaultType,\n\tglobalQuerystring,\n\tglobalParamRegex,\n\tglobalClient,\n\tglobalImmutableMeta = false;\n\n// ES2018+, 是讲这个特性没法被babel转译,\n// 那既然都用ES2018了, 不如把能用的特性都用上好了...\nconst defaultParamRegex = /:((\\w|-)+)/g,\n\tslashRegex = /\\/\\//g,\n\tmethodMap = {\n\t\tGET: noBodyRequest,\n\t\tHEAD: noBodyRequest,\n\t\tPOST: bodyRequest,\n\t\tPUT: bodyRequest,\n\t\tPATCH: bodyRequest,\n\t\t// 尽管浏览器支持OPTIONS和DELETE带body, 但是考虑到不常用,\n\t\t// 还是默认它们不带body, 如果需要的话, 可以直接开启完整选项加入body\n\t\t// 有空改成可配置吧\n\t\tOPTIONS: noBodyRequest,\n\t\tDELETE: noBodyRequest\n\t},\n\treplaceSlash = (m, o) => o <= 6 ? m : '/';\n\nfunction parseApiInfo(\n\tname,\n\trawInfo,\n\t{ baseURL: gBaseURL, paramRegex, querystring, client }\n) {\n\tlet { url, baseURL, path, meta, method = 'GET', type = defaultType, pathParams = false } = rawInfo;\n\tconst info = {},\n\t\tbURL = baseURL || gBaseURL;\n\n\tif (name === 'remove' || name === 'add') {\n\t\tthrow new Error('\"remove\" and \"add\" is preserved key.');\n\t}\n\tif (!isObj(rawInfo)) {\n\t\tthrow new TypeError(`API ${name} expected an object, but received ${JSON.stringify(rawInfo)}.`);\n\t}\n\tif (isStr(url)) {\n\t\tinfo.url = url;\n\t} else if (isStr(bURL)) {\n\t\tinfo.url = (bURL + (path || '')).replace(slashRegex, replaceSlash);\n\t} else {\n\t\tthrow new Error(`API \"${name}\" must set url or baseURL correctly.`);\n\t}\n\tmethod = method.toUpperCase();\n\tlet methodLowerCase = method.toLowerCase();\n\tif (!['GET', 'HEAD', 'POST', 'PUT', 'PATCH', 'DELETE', 'OPTIONS'].includes(method)) {\n\t\tthrow new Error(`Unsupported HTTP method: ${method}.`);\n\t}\n\tif (!isFn(client[methodLowerCase])) {\n\t\tthrow new Error(`client must implement a ${methodLowerCase} function.`);\n\t}\n\tconst parts = info.url.split(/\\/(?=\\w|:)/g), offset = /^(https?:|\\/)/.test(parts[0]) ? 2 : 1;\n\tinfo.baseURL = parts.slice(0, offset).join('/');\n\tinfo.path = `/${parts.slice(offset).join('/')}`;\n\tinfo.name = name;\n\tinfo.meta = meta;\n\tinfo.method = method;\n\tinfo.methodLowerCase = methodLowerCase;\n\tinfo[methodLowerCase] = client[methodLowerCase];\n\tinfo.type = type;\n\tinfo.pathParams = pathParams;\n\tinfo.regex = paramRegex;\n\tinfo.querystring = querystring;\n\tinfo.init = true;\n\treturn info;\n}\n\nfunction replaceParams(params) {\n\treturn (m, v) => {\n\t\tif (params[v] == null) {\n\t\t\tthrow new Error(`Can't find a property \"${v}\" in params.`);\n\t\t}\n\t\treturn encodeURIComponent(params[v]);\n\t};\n}\n\n// 其实noBodyRequest和bodyRequest我们可以合并成一个,\n// 因为我们已经知道method了, 也就可以知道它是否会带body,\n// 但是考虑到让代码更加清晰一点, 还是拆成两个吧, 这点\n// 代码重复算是可以接受. 另一方面讲, 其实也可以让接口只\n// 实现一个request方法就好, 而不用对每个HTTP方法都实现一个\n// 对应的方法, 因为我们也可以把method传过去\nfunction noBodyRequest(...args) {\n\tconst { methodLowerCase, pathParams, regex, querystring, baseURL, path } = this;\n\tlet params, query, qs, url = this.url;\n\tif (args[1] === true) {\n\t\t// 接口处记得检测对象是否为空\n\t\treturn this[methodLowerCase]({\n\t\t\turl,\n\t\t\tname: this.name,\n\t\t\tmeta: this.meta,\n\t\t\toptions: args[0]\n\t\t});\n\t} else if (pathParams) {\n\t\tparams = args[0];\n\t\tquery = args[1];\n\t} else {\n\t\tquery = args[0];\n\t}\n\n\tif (params) {\n\t\turl = baseURL + path.replace(regex, replaceParams(params));\n\t} else if (pathParams) {\n\t\tthrow new Error('Path params is required.');\n\t}\n\n\tif (query) {\n\t\tqs = querystring(query);\n\t\turl = url.includes('?') ? `${url}&${qs}` : `${url}?${qs}`;\n\t}\n\treturn this[methodLowerCase]({\n\t\turl,\n\t\tname: this.name,\n\t\tmeta: this.meta\n\t});\n}\n\nfunction bodyRequest(...args) {\n\tconst { methodLowerCase, type: defaultType, pathParams, regex, querystring, baseURL, path } = this;\n\tlet params, query, body, type, qs, url = this.url;\n\tif (args[1] === true) {\n\t\treturn this[methodLowerCase]({\n\t\t\turl,\n\t\t\ttype,\n\t\t\tname: this.name,\n\t\t\tmeta: this.meta,\n\t\t\toptions: args[0]\n\t\t});\n\t} else if (pathParams) {\n\t\tparams = args[1];\n\t\tquery = args[2];\n\t\ttype = args[3] || defaultType;\n\t} else {\n\t\tquery = args[1];\n\t\ttype = args[2] || defaultType;\n\t}\n\tbody = args[0];\n\n\tif (params) {\n\t\turl = baseURL + path.replace(regex, replaceParams(params));\n\t} else if (pathParams) {\n\t\tthrow new Error('Path params is required.');\n\t}\n\n\t// 这里实际上会造成带body的query的集合和不带body的query的集合不一致,\n\t// 不过考虑实际情况这样的不一致也是可以接受\n\tif (isStr(query) && !query.includes('=')) {\n\t\ttype = query;\n\t} else if (query) {\n\t\tqs = querystring(query);\n\t\turl = url.includes('?') ? `${url}&${qs}` : `${url}?${qs}`;\n\t}\n\treturn this[methodLowerCase]({\n\t\turl,\n\t\ttype,\n\t\tbody,\n\t\tname: this.name,\n\t\tmeta: this.meta\n\t});\n}\n\nfunction createAPI(info) {\n\tconst fn = methodMap[info.method].bind(info);\n\t['url', 'method', 'meta', 'type', 'pathParams'].forEach(k => {\n\t\tObject.defineProperty(fn, k, {\n\t\t\tvalue: info[k],\n\t\t\tenumerable: true,\n\t\t\twritable: false\n\t\t});\n\t});\n\treturn fn;\n}\n\n// 别问, 就是不喜欢ES6 class\nfunction APIz(apiMeta, options) {\n\tlet baseURL,\n\t\timmutableMeta,\n\t\tparamRegex,\n\t\tquerystring,\n\t\tclient,\n\t\tmeta = {};\n\n\tisStr(apiMeta._baseURL) && (baseURL = apiMeta._baseURL);\n\n\t({\n\t\tbaseURL = baseURL,\n\t\timmutableMeta = globalImmutableMeta,\n\t\tparamRegex = globalParamRegex || defaultParamRegex,\n\t\tquerystring = globalQuerystring,\n\t\tclient = globalClient\n\t} = options || {});\n\n\tif (!isFn(querystring)) {\n\t\tthrow new Error('A querystring function must set.');\n\t}\n\n\tif (!client) {\n\t\tthrow new Error('A client must set.');\n\t}\n\n\tconst groupOptions = {\n\t\tbaseURL,\n\t\tparamRegex,\n\t\tquerystring,\n\t\tclient\n\t};\n\n\tif (immutableMeta) {\n\t\tmeta = apiMeta || {};\n\t} else {\n\t\t// 不用Object.keys, 允许配置对象继承\n\t\tfor (const key in apiMeta) {\n\t\t\tif (isObj(apiMeta[key])) {\n\t\t\t\tmeta[key] = parseApiInfo(key, apiMeta[key], groupOptions);\n\t\t\t} else if (key !== '_baseURL') {\n\t\t\t\tconsole.warn(`The ${key} in meta is not an object.`);\n\t\t\t}\n\t\t}\n\t}\n\n\tconst pxy = new Proxy({}, {\n\t\tget(target, key, receiver) {\n\t\t\tif (!meta[key] || !isEnumerable(meta, key)) {\n\t\t\t\treturn Reflect.get(target, key);\n\t\t\t} else if (!meta[key].init) {\n\t\t\t\tmeta[key] = parseApiInfo(key, meta[key], groupOptions);\n\t\t\t}\n\t\t\tconst apiFn = createAPI(meta[key]);\n\t\t\tReflect.set(receiver, key, apiFn);\n\t\t\treturn apiFn;\n\t\t},\n\t\tgetPrototypeOf() {\n\t\t\treturn APIz.prototype;\n\t\t}\n\t});\n\n\tconst self = Object.create(pxy);\n\tself.remove = function (name) {\n\t\tthis[name] && (meta[name] = this[name] = undefined);\n\t};\n\tself.add = function (name, apiInfo) {\n\t\tif (meta[name]) {\n\t\t\tthrow new Error(`API \"${name}\" already exists.`);\n\t\t}\n\t\tmeta[name] = parseApiInfo(name, apiInfo, groupOptions);\n\t\tthis[name] = createAPI(meta[name]);\n\t};\n\treturn self;\n}\n\nexport { APIz };\n\nexport function config({ querystring, paramRegex, immutableMeta, client, reset, defaultType: dt } = { reset: true }) {\n\tisFn(querystring) && (globalQuerystring = querystring);\n\tparamRegex instanceof RegExp && (globalParamRegex = paramRegex);\n\tglobalImmutableMeta = immutableMeta;\n\tglobalClient = client;\n\tdefaultType = dt;\n\treset && (globalQuerystring = globalParamRegex = globalClient = defaultType = undefined, globalImmutableMeta = false);\n}\n","import { config } from './core';\nimport { querystring } from './querystring';\n\nconfig({\n\tquerystring,\n\tdefaultType: 'json'\n});\n\nexport * from './core';","export function querystring(obj) {\n\tif (Object.prototype.toString.call(obj) === '[object Object]') {\n\t\treturn Object.keys(obj)\n\t\t\t.map(\n\t\t\t\tk =>\n\t\t\t\t\tArray.isArray(obj[k])\n\t\t\t\t\t\t? obj[k]\n\t\t\t\t\t\t\t.map(v => `${encodeURIComponent(k)}=${encodeURIComponent(v)}`)\n\t\t\t\t\t\t\t.join('&')\n\t\t\t\t\t\t: `${encodeURIComponent(k)}=${encodeURIComponent(obj[k])}`\n\t\t\t)\n\t\t\t.join('&');\n\t} else if (typeof obj === 'string') {\n\t\treturn obj;\n\t} else {\n\t\treturn JSON.stringify(obj);\n\t}\n}"],"names":["parseApiInfo","name","rawInfo","baseURL","gBaseURL","paramRegex","querystring","client","url","path","meta","method","type","defaultType","pathParams","info","bURL","Error","isObj","TypeError","JSON","stringify","isStr","replace","slashRegex","replaceSlash","toUpperCase","methodLowerCase","toLowerCase","includes","isFn","parts","split","offset","test","slice","join","regex","init","replaceParams","params","m","v","encodeURIComponent","noBodyRequest","args","query","qs","options","bodyRequest","body","createAPI","fn","methodMap","bind","forEach","k","Object","defineProperty","value","enumerable","writable","APIz","apiMeta","immutableMeta","_baseURL","globalImmutableMeta","globalParamRegex","defaultParamRegex","globalQuerystring","globalClient","groupOptions","key","console","warn","pxy","Proxy","get","target","receiver","isEnumerable","Reflect","apiFn","set","getPrototypeOf","prototype","self","create","remove","add","apiInfo","config","reset","dt","RegExp","toString","Map","call","o","f","s","propertyIsEnumerable","GET","HEAD","POST","PUT","PATCH","OPTIONS","DELETE","obj","keys","map","Array","isArray"],"mappings":"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"}