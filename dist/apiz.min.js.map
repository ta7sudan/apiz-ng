{"version":3,"file":"apiz.min.js","sources":["../../src/core.js","apiz.js","../../src/querystring.js"],"sourcesContent":["/* global DEBUG */\nconst toString = Map.call.bind(Object.prototype.toString);\nconst isObj = o => toString(o) === '[object Object]';\nconst isFn = f => typeof f === 'function';\nconst isStr = s => s && typeof s === 'string';\nconst isEnumerable = Map.call.bind(Object.prototype.propertyIsEnumerable);\n\nlet defaultType,\n\tglobalQuerystring,\n\tglobalParamRegex,\n\tglobalBodyPareser,\n\tglobalClient,\n\tglobalImmutableMeta = false;\n\nconst defaultParamRegex = /:((\\w|-)+)/g,\n\tmethodMap = {\n\t\tGET: noBodyRequest,\n\t\tHEAD: noBodyRequest,\n\t\tPOST: bodyRequest,\n\t\tPUT: bodyRequest,\n\t\tPATCH: bodyRequest,\n\t\tOPTIONS: bodyRequest,\n\t\tDELETE: bodyRequest\n\t};\n\nfunction defaultBodyParser(data, type = 'json', querystring) {\n\tif (type === 'json') {\n\t\treturn JSON.stringify(data);\n\t} else if (type === 'form') {\n\t\treturn querystring(data);\n\t} else {\n\t\treturn data;\n\t}\n}\n\nfunction parseApiInfo(\n\tname,\n\trawInfo,\n\t{ baseURL: gBaseURL, paramRegex, bodyParser, querystring, client }\n) {\n\tlet { url, baseURL, path, method = 'GET', type = defaultType, pathParams = false } = rawInfo;\n\tconst info = {},\n\t\tbURL = baseURL || gBaseURL;\n\n\tif (name === 'remove' || name === 'add') {\n\t\tthrow new Error('\"remove\" and \"add\" is preserved key.');\n\t}\n\tif (!isObj(rawInfo)) {\n\t\tthrow new TypeError(`API ${name} expected an object, but received ${JSON.stringify(rawInfo)}.`);\n\t}\n\tif (isStr(url)) {\n\t\tinfo.url = url;\n\t} else if (isStr(bURL)) {\n\t\tinfo.url = (bURL + (path || '')).replace(/:?\\/\\//g, m => ~m.indexOf(':') ? m : '/');\n\t} else {\n\t\tthrow new Error(`API \"${name}\" must set url or baseURL correctly.`);\n\t}\n\tmethod = method.toUpperCase();\n\tlet methodLowerCase = method.toLowerCase();\n\tif (!['GET', 'HEAD', 'POST', 'PUT', 'PATCH', 'DELETE', 'OPTIONS'].includes(method)) {\n\t\tthrow new Error(`Unsupported HTTP method: ${method}.`);\n\t}\n\tif (!isFn(client[methodLowerCase])) {\n\t\tthrow new Error(`client must implement a ${methodLowerCase} function.`);\n\t}\n\tinfo.method = method;\n\tinfo.methodLowerCase = methodLowerCase;\n\tinfo[methodLowerCase] = client[methodLowerCase];\n\tinfo.type = type;\n\tinfo.pathParams = pathParams;\n\tinfo.regex = paramRegex;\n\tinfo.querystring = querystring;\n\tinfo.bodyParser = bodyParser;\n\tinfo.init = true;\n\treturn info;\n}\n\nfunction replaceParams(params) {\n\treturn (m, v) => {\n\t\tif (params[v] == null) {\n\t\t\tthrow new Error(`Can't find a property \"${v}\" in params.`);\n\t\t}\n\t\treturn encodeURIComponent(params[v]);\n\t};\n}\n\n// 其实noBodyRequest和bodyRequest我们可以合并成一个,\n// 因为我们已经知道method了, 也就可以知道它是否会带body,\n// 但是考虑到让代码更加清晰一点, 还是拆成两个吧, 这点\n// 代码重复算是可以接受. 另一方面讲, 其实也可以让接口只\n// 实现一个request方法就好, 而不用对每个HTTP方法都实现一个\n// 对应的方法, 因为我们也可以把method传过去\nfunction noBodyRequest(...args) {\n\tconst { methodLowerCase, pathParams, regex, querystring } = this;\n\tlet params, query, qs, url = this.url;\n\tif (args[1] === true) {\n\t\t// 接口处记得检测对象是否为空\n\t\treturn this[methodLowerCase](url, args[0]);\n\t} else if (pathParams) {\n\t\tparams = args[0];\n\t\tquery = args[1];\n\t} else {\n\t\tquery = args[0];\n\t}\n\n\tif (!query && !params) {\n\t\treturn this[methodLowerCase](url);\n\t}\n\n\tif (params) {\n\t\turl = url.replace(regex, replaceParams(params));\n\t} else if (pathParams) {\n\t\tthrow new Error('Path params is required.');\n\t}\n\n\tif (query) {\n\t\tqs = querystring(query);\n\t\turl = ~url.indexOf('?') ? `${url}&${qs}` : `${url}?${qs}`;\n\t}\n\treturn this[methodLowerCase](url);\n}\n\nfunction bodyRequest(...args) {\n\tconst { methodLowerCase, type, pathParams, regex, querystring, bodyParser } = this;\n\tlet rawBody, params, query, body, qs, url = this.url;\n\tif (args[1] === true) {\n\t\treturn this[methodLowerCase](url, args[0], type);\n\t} else if (pathParams) {\n\t\tparams = args[1];\n\t\tquery = args[2];\n\t} else {\n\t\tquery = args[1];\n\t}\n\trawBody = args[0];\n\n\tbody = bodyParser(rawBody, type, querystring);\n\n\tif (params) {\n\t\turl = url.replace(regex, replaceParams(params));\n\t} else if (pathParams) {\n\t\tthrow new Error('Path params is required.');\n\t}\n\n\tif (!query && !params) {\n\t\treturn this[methodLowerCase](url, body, type);\n\t}\n\n\n\tif (query) {\n\t\tqs = querystring(query);\n\t\turl = ~url.indexOf('?') ? `${url}&${qs}` : `${url}?${qs}`;\n\t}\n\treturn this[methodLowerCase](url, body, type);\n}\n\nfunction createAPI(info) {\n\tconst fn = methodMap[info.method].bind(info);\n\t['url', 'method', 'type', 'pathParams'].forEach(k => {\n\t\tObject.defineProperty(fn, k, {\n\t\t\tvalue: info[k],\n\t\t\tenumerable: true,\n\t\t\twritable: false\n\t\t});\n\t});\n\treturn fn;\n}\n\n// 别问, 就是不喜欢ES6 class\nfunction APIz(apiMeta, options) {\n\tlet baseURL,\n\t\timmutableMeta,\n\t\tparamRegex,\n\t\tbodyParser,\n\t\tquerystring,\n\t\tclient,\n\t\tmeta = {};\n\n\tisStr(apiMeta._baseURL) && (baseURL = apiMeta._baseURL);\n\n\t({\n\t\tbaseURL = baseURL,\n\t\timmutableMeta = globalImmutableMeta,\n\t\tparamRegex = globalParamRegex || defaultParamRegex,\n\t\tbodyParser = globalBodyPareser || defaultBodyParser,\n\t\tquerystring = globalQuerystring,\n\t\tclient = globalClient\n\t} = options || {});\n\n\tif (!isFn(querystring)) {\n\t\tthrow new Error('A querystring function must set.');\n\t}\n\n\tif (!client) {\n\t\tthrow new Error('A client must set.');\n\t}\n\n\tconst groupOptions = {\n\t\tbaseURL,\n\t\tparamRegex,\n\t\tbodyParser,\n\t\tquerystring,\n\t\tclient\n\t};\n\n\tif (immutableMeta) {\n\t\tmeta = apiMeta || {};\n\t} else {\n\t\t// 不用Object.keys, 允许配置对象继承\n\t\tfor (const key in apiMeta) {\n\t\t\tif (isObj(apiMeta[key])) {\n\t\t\t\tmeta[key] = parseApiInfo(key, apiMeta[key], groupOptions);\n\t\t\t} else if (key !== '_baseURL') {\n\t\t\t\tconsole.warn(`The ${key} in config is not an object.`);\n\t\t\t}\n\t\t}\n\t}\n\n\tconst pxy = new Proxy({}, {\n\t\tget(target, key, receiver) {\n\t\t\tif (!meta[key] || !isEnumerable(meta, key)) {\n\t\t\t\treturn Reflect.get(target, key);\n\t\t\t} else if (!meta[key].init) {\n\t\t\t\tmeta[key] = parseApiInfo(key, meta[key], groupOptions);\n\t\t\t}\n\t\t\tReflect.set(receiver, key, createAPI(meta[key]));\n\t\t\treturn Reflect.get(receiver, key);\n\t\t},\n\t\tgetPrototypeOf() {\n\t\t\treturn APIz.prototype;\n\t\t}\n\t});\n\n\tconst self = Object.create(pxy);\n\tself.remove = function (name) {\n\t\tthis[name] && (meta[name] = this[name] = undefined);\n\t};\n\tself.add = function (name, apiInfo) {\n\t\tif (meta[name]) {\n\t\t\tthrow new Error(`API \"${name}\" already exists.`);\n\t\t}\n\t\tmeta[name] = parseApiInfo(name, apiInfo, groupOptions);\n\t\tthis[name] = createAPI(meta[name]);\n\t};\n\treturn self;\n}\n\nexport { APIz };\n\nexport function config({ querystring, paramRegex, bodyParser, immutableMeta, client, reset, defaultType: dt } = { reset: true }) {\n\tisFn(querystring) && (globalQuerystring = querystring);\n\tisFn(bodyParser) && (globalBodyPareser = bodyParser);\n\tparamRegex instanceof RegExp && (globalParamRegex = paramRegex);\n\tglobalImmutableMeta = immutableMeta;\n\tglobalClient = client;\n\tdefaultType = dt;\n\treset && (globalQuerystring = globalParamRegex = globalBodyPareser = globalClient = defaultType = undefined, globalImmutableMeta = false);\n}\n","import { config } from './core';\nimport { querystring } from './querystring';\n\nconfig({\n\tquerystring,\n\tdefaultType: 'json'\n});\n\nexport * from './core';","export function querystring(obj) {\n\tif (Object.prototype.toString.call(obj) === '[object Object]') {\n\t\treturn Object.keys(obj)\n\t\t\t.map(\n\t\t\t\tk =>\n\t\t\t\t\tArray.isArray(obj[k])\n\t\t\t\t\t\t? obj[k]\n\t\t\t\t\t\t\t.map(v => `${encodeURIComponent(k)}=${encodeURIComponent(v)}`)\n\t\t\t\t\t\t\t.join('&')\n\t\t\t\t\t\t: `${encodeURIComponent(k)}=${encodeURIComponent(obj[k])}`\n\t\t\t)\n\t\t\t.join('&');\n\t} else {\n\t\treturn JSON.stringify(obj);\n\t}\n}"],"names":["defaultBodyParser","data","type","querystring","JSON","stringify","parseApiInfo","name","rawInfo","baseURL","gBaseURL","paramRegex","bodyParser","client","url","path","method","defaultType","pathParams","info","bURL","Error","isObj","TypeError","isStr","replace","m","indexOf","toUpperCase","methodLowerCase","toLowerCase","includes","isFn","regex","init","replaceParams","params","v","encodeURIComponent","noBodyRequest","args","query","qs","bodyRequest","rawBody","body","createAPI","fn","methodMap","bind","forEach","k","Object","defineProperty","value","enumerable","writable","APIz","apiMeta","options","immutableMeta","meta","_baseURL","globalImmutableMeta","globalParamRegex","defaultParamRegex","globalBodyPareser","globalQuerystring","globalClient","groupOptions","key","console","warn","pxy","Proxy","get","target","receiver","isEnumerable","Reflect","set","getPrototypeOf","prototype","self","create","remove","add","apiInfo","config","reset","dt","RegExp","toString","Map","call","o","f","s","propertyIsEnumerable","GET","HEAD","POST","PUT","PATCH","OPTIONS","DELETE","obj","keys","map","Array","isArray","join"],"mappings":"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"}