{"version":3,"file":"apiz.cjs.js","sources":["../src/core.js","../src/querystring.js","../src/index.js"],"sourcesContent":["/* global DEBUG */\nconst toString = Map.call.bind(Object.prototype.toString);\nconst isObj = o => toString(o) === '[object Object]';\nconst isFn = f => typeof f === 'function';\nconst isStr = s => s && typeof s === 'string';\nconst isEnumerable = Map.call.bind(Object.prototype.propertyIsEnumerable);\n\nlet defaultType,\n\tglobalQuerystring,\n\tglobalParamRegex,\n\tglobalClient,\n\tglobalImmutableMeta = false;\n\n// ES2018+, 是讲这个特性没法被babel转译,\n// 那既然都用ES2018了, 不如把能用的特性都用上好了...\nconst defaultParamRegex = /(?<=\\/):((\\w|-)+)/g,\n\tmethodMap = {\n\t\tGET: noBodyRequest,\n\t\tHEAD: noBodyRequest,\n\t\tPOST: bodyRequest,\n\t\tPUT: bodyRequest,\n\t\tPATCH: bodyRequest,\n\t\t// 尽管浏览器支持OPTIONS和DELETE带body, 但是考虑到不常用,\n\t\t// 还是默认它们不带body, 如果需要的话, 可以直接开启完整选项加入body\n\t\t// 有空改成可配置吧\n\t\tOPTIONS: noBodyRequest,\n\t\tDELETE: noBodyRequest\n\t};\n\nfunction parseApiInfo(\n\tname,\n\trawInfo,\n\t{ baseURL: gBaseURL, paramRegex, querystring, client }\n) {\n\tlet { url, baseURL, path, method = 'GET', type = defaultType, pathParams = false } = rawInfo;\n\tconst info = {},\n\t\tbURL = baseURL || gBaseURL;\n\n\tif (name === 'remove' || name === 'add') {\n\t\tthrow new Error('\"remove\" and \"add\" is preserved key.');\n\t}\n\tif (!isObj(rawInfo)) {\n\t\tthrow new TypeError(`API ${name} expected an object, but received ${JSON.stringify(rawInfo)}.`);\n\t}\n\tif (isStr(url)) {\n\t\tinfo.url = url;\n\t} else if (isStr(bURL)) {\n\t\tinfo.url = (bURL + (path || '')).replace(/(?<!:)(\\/\\/)/g, '/');\n\t} else {\n\t\tthrow new Error(`API \"${name}\" must set url or baseURL correctly.`);\n\t}\n\tmethod = method.toUpperCase();\n\tlet methodLowerCase = method.toLowerCase();\n\tif (!['GET', 'HEAD', 'POST', 'PUT', 'PATCH', 'DELETE', 'OPTIONS'].includes(method)) {\n\t\tthrow new Error(`Unsupported HTTP method: ${method}.`);\n\t}\n\tif (!isFn(client[methodLowerCase])) {\n\t\tthrow new Error(`client must implement a ${methodLowerCase} function.`);\n\t}\n\tinfo.method = method;\n\tinfo.methodLowerCase = methodLowerCase;\n\tinfo[methodLowerCase] = client[methodLowerCase];\n\tinfo.type = type;\n\tinfo.pathParams = pathParams;\n\tinfo.regex = paramRegex;\n\tinfo.querystring = querystring;\n\tinfo.init = true;\n\treturn info;\n}\n\nfunction replaceParams(params) {\n\treturn (m, v) => {\n\t\tif (params[v] == null) {\n\t\t\tthrow new Error(`Can't find a property \"${v}\" in params.`);\n\t\t}\n\t\treturn encodeURIComponent(params[v]);\n\t};\n}\n\n// 其实noBodyRequest和bodyRequest我们可以合并成一个,\n// 因为我们已经知道method了, 也就可以知道它是否会带body,\n// 但是考虑到让代码更加清晰一点, 还是拆成两个吧, 这点\n// 代码重复算是可以接受. 另一方面讲, 其实也可以让接口只\n// 实现一个request方法就好, 而不用对每个HTTP方法都实现一个\n// 对应的方法, 因为我们也可以把method传过去\nfunction noBodyRequest(...args) {\n\tconst { methodLowerCase, pathParams, regex, querystring } = this;\n\tlet params, query, qs, url = this.url;\n\tif (args[1] === true) {\n\t\t// 接口处记得检测对象是否为空\n\t\treturn this[methodLowerCase](url, args[0]);\n\t} else if (pathParams) {\n\t\tparams = args[0];\n\t\tquery = args[1];\n\t} else {\n\t\tquery = args[0];\n\t}\n\n\tif (params) {\n\t\turl = url.replace(regex, replaceParams(params));\n\t} else if (pathParams) {\n\t\tthrow new Error('Path params is required.');\n\t}\n\n\tif (query) {\n\t\tqs = querystring(query);\n\t\turl = url.includes('?') ? `${url}&${qs}` : `${url}?${qs}`;\n\t}\n\treturn this[methodLowerCase](url);\n}\n\nfunction bodyRequest(...args) {\n\tconst { methodLowerCase, type: defaultType, pathParams, regex, querystring } = this;\n\tlet params, query, body, type, qs, url = this.url;\n\tif (args[1] === true) {\n\t\treturn this[methodLowerCase](url, args[0], type, true);\n\t} else if (pathParams) {\n\t\tparams = args[1];\n\t\tquery = args[2];\n\t\ttype = args[3] || defaultType;\n\t} else {\n\t\tquery = args[1];\n\t\ttype = args[2] || defaultType;\n\t}\n\tbody = args[0];\n\n\tif (params) {\n\t\turl = url.replace(regex, replaceParams(params));\n\t} else if (pathParams) {\n\t\tthrow new Error('Path params is required.');\n\t}\n\n\t// 这里实际上会造成带body的query的集合和不带body的query的集合不一致,\n\t// 不过考虑实际情况这样的不一致也是可以接受\n\tif (isStr(query) && !query.includes('=')) {\n\t\ttype = query;\n\t} else if (query) {\n\t\tqs = querystring(query);\n\t\turl = url.includes('?') ? `${url}&${qs}` : `${url}?${qs}`;\n\t}\n\treturn this[methodLowerCase](url, body, type, false);\n}\n\nfunction createAPI(info) {\n\tconst fn = methodMap[info.method].bind(info);\n\t['url', 'method', 'type', 'pathParams'].forEach(k => {\n\t\tObject.defineProperty(fn, k, {\n\t\t\tvalue: info[k],\n\t\t\tenumerable: true,\n\t\t\twritable: false\n\t\t});\n\t});\n\treturn fn;\n}\n\n// 别问, 就是不喜欢ES6 class\nfunction APIz(apiMeta, options) {\n\tlet baseURL,\n\t\timmutableMeta,\n\t\tparamRegex,\n\t\tquerystring,\n\t\tclient,\n\t\tmeta = {};\n\n\tisStr(apiMeta._baseURL) && (baseURL = apiMeta._baseURL);\n\n\t({\n\t\tbaseURL = baseURL,\n\t\timmutableMeta = globalImmutableMeta,\n\t\tparamRegex = globalParamRegex || defaultParamRegex,\n\t\tquerystring = globalQuerystring,\n\t\tclient = globalClient\n\t} = options || {});\n\n\tif (!isFn(querystring)) {\n\t\tthrow new Error('A querystring function must set.');\n\t}\n\n\tif (!client) {\n\t\tthrow new Error('A client must set.');\n\t}\n\n\tconst groupOptions = {\n\t\tbaseURL,\n\t\tparamRegex,\n\t\tquerystring,\n\t\tclient\n\t};\n\n\tif (immutableMeta) {\n\t\tmeta = apiMeta || {};\n\t} else {\n\t\t// 不用Object.keys, 允许配置对象继承\n\t\tfor (const key in apiMeta) {\n\t\t\tif (isObj(apiMeta[key])) {\n\t\t\t\tmeta[key] = parseApiInfo(key, apiMeta[key], groupOptions);\n\t\t\t} else if (key !== '_baseURL') {\n\t\t\t\tconsole.warn(`The ${key} in meta is not an object.`);\n\t\t\t}\n\t\t}\n\t}\n\n\tconst pxy = new Proxy({}, {\n\t\tget(target, key, receiver) {\n\t\t\tif (!meta[key] || !isEnumerable(meta, key)) {\n\t\t\t\treturn Reflect.get(target, key);\n\t\t\t} else if (!meta[key].init) {\n\t\t\t\tmeta[key] = parseApiInfo(key, meta[key], groupOptions);\n\t\t\t}\n\t\t\tconst apiFn = createAPI(meta[key]);\n\t\t\tReflect.set(receiver, key, apiFn);\n\t\t\treturn apiFn;\n\t\t},\n\t\tgetPrototypeOf() {\n\t\t\treturn APIz.prototype;\n\t\t}\n\t});\n\n\tconst self = Object.create(pxy);\n\tself.remove = function (name) {\n\t\tthis[name] && (meta[name] = this[name] = undefined);\n\t};\n\tself.add = function (name, apiInfo) {\n\t\tif (meta[name]) {\n\t\t\tthrow new Error(`API \"${name}\" already exists.`);\n\t\t}\n\t\tmeta[name] = parseApiInfo(name, apiInfo, groupOptions);\n\t\tthis[name] = createAPI(meta[name]);\n\t};\n\treturn self;\n}\n\nexport { APIz };\n\nexport function config({ querystring, paramRegex, immutableMeta, client, reset, defaultType: dt } = { reset: true }) {\n\tisFn(querystring) && (globalQuerystring = querystring);\n\tparamRegex instanceof RegExp && (globalParamRegex = paramRegex);\n\tglobalImmutableMeta = immutableMeta;\n\tglobalClient = client;\n\tdefaultType = dt;\n\treset && (globalQuerystring = globalParamRegex = globalClient = defaultType = undefined, globalImmutableMeta = false);\n}\n","export function querystring(obj) {\n\tif (Object.prototype.toString.call(obj) === '[object Object]') {\n\t\treturn Object.keys(obj)\n\t\t\t.map(\n\t\t\t\tk =>\n\t\t\t\t\tArray.isArray(obj[k])\n\t\t\t\t\t\t? obj[k]\n\t\t\t\t\t\t\t.map(v => `${encodeURIComponent(k)}=${encodeURIComponent(v)}`)\n\t\t\t\t\t\t\t.join('&')\n\t\t\t\t\t\t: `${encodeURIComponent(k)}=${encodeURIComponent(obj[k])}`\n\t\t\t)\n\t\t\t.join('&');\n\t} else if (typeof obj === 'string') {\n\t\treturn obj;\n\t} else {\n\t\treturn JSON.stringify(obj);\n\t}\n}","import { config } from './core';\nimport { querystring } from './querystring';\n\nconfig({\n\tquerystring,\n\tdefaultType: 'json'\n});\n\nexport * from './core';"],"names":["toString","Map","call","bind","Object","prototype","isObj","o","isFn","f","isStr","s","isEnumerable","propertyIsEnumerable","defaultType","globalQuerystring","globalParamRegex","globalClient","globalImmutableMeta","defaultParamRegex","methodMap","GET","noBodyRequest","HEAD","POST","bodyRequest","PUT","PATCH","OPTIONS","DELETE","parseApiInfo","name","rawInfo","baseURL","gBaseURL","paramRegex","querystring","client","url","path","method","type","pathParams","info","bURL","Error","TypeError","JSON","stringify","replace","toUpperCase","methodLowerCase","toLowerCase","includes","regex","init","replaceParams","params","m","v","encodeURIComponent","args","query","qs","body","createAPI","fn","forEach","k","defineProperty","value","enumerable","writable","APIz","apiMeta","options","immutableMeta","meta","_baseURL","groupOptions","key","console","warn","pxy","Proxy","get","target","receiver","Reflect","apiFn","set","getPrototypeOf","self","create","remove","add","apiInfo","config","reset","dt","RegExp","obj","keys","map","Array","isArray","join"],"mappings":"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"}